{% extends 'base.html.twig' %}

{% block title %}Hello TeamController!{% endblock %}

{% block body %}
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
        <script src="{{ asset('js/team.js') }}" type="text/javascript"></script>
    </head>

    <style>
        .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
        .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    </style>

    <div class="example-wrapper">
        <h1> {{ team.name }} </h1>
        <br />
        <a href="{{ path('update_team', {id: team.id }) }}">Modifier le Groupe</a>
        <br />
        <br />
        <h4>Membres :</h4>
        <ul>
            {% for user in team.users %}
                <li>
                    {% if team.createdBy.id is same as (user.id)  %}
                        - {{ user.name }} : {{ user.pseudo}} (admin)<br />
                    {% else %}
                        - {{ user.name }} : {{ user.pseudo}}<br />
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
        <br />
        <a href="{{ path('add_user_team', {id: team.id }) }}">Ajouter un membre</a>
        <br />
        <br />
        <h4>Projets :</h4>
        <ul>
            {% for project in projects %}
                <li>
                    <a href="{{ path('show_project', {id: project.id}) }}">{{ project.name }}</a>
                    <br />
                    Date de création : {{ project.createdAt | date('d M Y') }}
                    <br />
                    Crée par : {{ project.createdBy.pseudo }} <br />
                </li>
            {% endfor %}
        </ul>
        <br />
        <a href="{{ path('add_project_team', {id: team.id }) }}">Ajouter un projet</a>
    </div>
{% endblock %}
